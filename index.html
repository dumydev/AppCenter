<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>App Center</title>
<style>
  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: linear-gradient(135deg, #e6f4ea, #c8e6c9);
    color: #2e4630;
    text-align: center;
    margin: 0;
    padding: 40px;
  }
  h1 {
    margin-bottom: 30px;
    font-weight: 700;
    color: #1b5e20;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
  }
  .app-list {
    max-width: 480px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 20px;
    /* Scroll removed */
    overflow-y: visible;
    max-height: none;
    padding-right: 0;
  }
  .app-card {
    background: #fdfcf7;
    border-left: 6px solid #2e7d32;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    text-align: center;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .app-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.15);
  }
  .app-card h2 {
    margin: 0 0 8px 0;
    color: #1b5e20;
    font-size: 20px;
  }
  .app-card p {
    margin: 4px 0;
    font-size: 15px;
    color: #3e4e3f;
  }
  .download-btn {
    display: inline-block;
    background-color: #2e7d32;
    color: #fff;
    padding: 10px 22px;
    border-radius: 5px;
    text-decoration: none;
    font-size: 16px;
    font-weight: 600;
    transition: background-color 0.3s, transform 0.2s;
    cursor: pointer;
    opacity: 0.6;
    pointer-events: none;
  }
  .download-btn.active {
    opacity: 1;
    pointer-events: auto;
  }
  .download-btn:hover {
    background-color: #1b5e20;
    transform: scale(1.05);
  }
  #error { color: #b71c1c; margin-top: 20px; }
</style>
</head>
<body>
<h1>App Center - (Android Apps)</h1>

<div class="app-list" id="appContainer">
  <p>Loading apps...</p>
</div>
<p id="error"></p>

<script>
  fetch('apps.json')
    .then(res => res.ok ? res.json() : Promise.reject('Network error'))
    .then(apps => {
      const container = document.getElementById('appContainer');
      if (!Array.isArray(apps) || apps.length === 0) {
        container.innerHTML = '<p>No apps available.</p>';
        return;
      }

      container.innerHTML = apps.map(app => `
        <div class="app-card">
          <h2>${app.name || 'Unnamed App'}</h2>
          <p>Version: ${app.version_name}</p>
          <p>Updated at: ${app.updatedAt}</p>
          ${app.releaseNotes ? `<p>Notes: ${app.releaseNotes}</p>` : ''}
          <a class="download-btn active" href="${app.fileId ? `https://drive.google.com/uc?export=download&id=${app.fileId}` : app.downloadUrl}" target="_blank">
            Download v${app.version_name}
          </a>
        </div>
      `).join('');
    })
    .catch(err => {
      console.error(err);
      document.getElementById('error').textContent = 'Failed to load app data.';
    });
</script>
</body>
</html>
